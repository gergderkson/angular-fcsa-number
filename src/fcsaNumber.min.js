(function(){{var n;({}).hasOwnProperty}n=angular.module("fcsa-number",[]),n.directive("fcsaNumber",["fcsaNumberConfig",function(n){var e,r,t,u,i,l,a,o,f,c,s,p;return t=n.defaultOptions,a=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},l=function(n){return 44>n||n>57||47===n},r=[0,8,13],i=function(n){return-1===r.indexOf(n)},u=function(n){return null!=n&&n.toString().split(".").length>2},f=function(n){var e,r;return e=n>0?"^-?\\d*\\.?\\d{0,"+n+"}$":"^-?\\d*$",r=new RegExp(e),function(n){return r.test(n)}},s=function(n){return function(e,r){return n>=r}},p=function(n){return function(e,r){return r>=n}},c=function(n){var e;return e=new RegExp("^-?\\d{0,"+n+"}(\\.\\d*)?$"),function(n){return e.test(n)}},o=function(n){var e;return e=[],null!=n.maxDecimals&&e.push(f(n.maxDecimals)),null!=n.max&&e.push(s(n.max)),null!=n.min&&e.push(p(n.min)),null!=n.maxDigits&&e.push(c(n.maxDigits)),function(n){var r,t,i,l;if(!a(n))return!1;if(u(n))return!1;for(t=Number(n),r=i=0,l=e.length;l>=0?l>i:i>l;r=l>=0?++i:--i)if(!e[r](n,t))return!1;return!0}},e=function(n){var e,r,t;return r=-1==n.indexOf(".")?"":n.replace(/^-?\d+(?=\.)/,""),t=n.replace(/(\.\d+)$/,""),e=t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),""+e+r},{restrict:"A",require:"ngModel",scope:{options:"=fcsaNumber"},link:function(n,r,t,u){var a,f;return f=n.options,a=o(f),u.$parsers.unshift(function(n){var e;return e=n.replace(/,/g,""),a(e)||!e?(u.$setValidity("fcsaNumber",!0),e):void u.$setValidity("fcsaNumber",!1)}),u.$formatters.push(function(n){return null==f.nullDisplay||n&&""!==n?null!=n&&a(n)?(u.$setValidity("fcsaNumber",!0),n=e(n.toString()),null!=f.prepend&&(n=""+f.prepend+n),null!=f.append&&(n=""+n+f.append),n):n:f.nullDisplay}),r.on("blur",function(){var n,e,r,t,i;if(e=u.$modelValue,null!=e&&a(e)){for(i=u.$formatters,r=0,t=i.length;t>r;r++)n=i[r],e=n(e);return u.$viewValue=e,u.$render()}}),r.on("focus",function(){var n;return n=r.val(),null!=f.prepend&&(n=n.replace(f.prepend,"")),null!=f.append&&(n=n.replace(f.append,"")),r.val(n.replace(/,/g,"")),r[0].select()}),f.preventInvalidInput===!0?r.on("keypress",function(n){return l(n.which)&&i(n.which)?n.preventDefault():void 0}):void 0}}}]),n.provider("fcsaNumberConfig",function(){var n;n={},this.setDefaultOptions=function(e){return n=e},this.$get=function(){return{defaultOptions:n}}})}).call(this);